<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Leave Report - {{ month }}</title>
    <style>
        /* Animated gradient background */
        body {
            font-family: 'Segoe UI', sans-serif;
            font-size: 12px;
            margin: 20px;
            background: linear-gradient(270deg, #0F2027, #2c5364, #0F2027);
            background-size: 600% 600%;
            animation: gradientAnimation 15s ease infinite;
            position: relative;
            overflow-x: hidden;
            color: #333;
        }
        @keyframes gradientAnimation {
            0% {background-position: 0% 50%;}
            50% {background-position: 100% 50%;}
            100% {background-position: 0% 50%;}
        }

        /* Floating bubbles */
        .floating-shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.12;
            animation: floatAnimation ease-in-out infinite;
            z-index: 0;
        }
        .small { width: 30px; height: 30px; background: #2c5364; animation-duration: 12s; }
        .medium { width: 70px; height: 70px; background: #0F2027; animation-duration: 18s; }
        .large { width: 120px; height: 120px; background: #2c5364; animation-duration: 24s; }
        @keyframes floatAnimation {
            0% { transform: translateY(0px) translateX(0px); }
            50% { transform: translateY(-20px) translateX(15px); }
            100% { transform: translateY(0px) translateX(0px); }
        }

        /* Container */
        .report-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 20px;
            position: relative;
            z-index: 2;
            box-shadow: 0 8px 20px rgba(0,0,0,0.25);
            animation: fadeInUp 0.9s forwards;
        }

        /* Title */
        h2 {
            text-align: center;
            margin-bottom: 20px;
            color: #2c5364;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
        }

        /* Table */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        th, td {
            border: 1px solid #bbb;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #2c5364;
            color: #fff;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        tbody tr:nth-child(even) {
            background-color: rgba(44, 83, 100, 0.08);
        }
        tbody tr:hover {
            background-color: rgba(44, 83, 100, 0.18);
            transition: 0.3s;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Print styles */
        @media print {
            body {
                background: #fff !important;
                animation: none !important;
            }
            .floating-shape { display: none !important; }
            .report-container {
                box-shadow: none;
                background: #fff !important;
            }
        }
    </style>
</head>
<body>
    <!-- Floating bubbles -->
    <div class="floating-shape small" style="top:8%; left:15%;"></div>
    <div class="floating-shape medium" style="top:25%; left:75%;"></div>
    <div class="floating-shape large" style="top:40%; left:30%;"></div>
    <div class="floating-shape small" style="top:55%; left:60%;"></div>
    <div class="floating-shape medium" style="top:70%; left:20%;"></div>
    <div class="floating-shape large" style="top:80%; left:80%;"></div>

    <div class="report-container">
        <h2>Leave Report - {{ month }}</h2>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Employee</th>
                    <th>Leave Type</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Status</th>
                    <th>Manager</th>
                    <th>Manager Comment</th>
                </tr>
            </thead>
            <tbody>
            {% for l in leaves %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ l.employee.name }}</td>
                <td>{{ l.leave_type }}</td>
                <td>{{ l.start_date.strftime("%Y-%m-%d") }}</td>
                <td>{{ l.end_date.strftime("%Y-%m-%d") }}</td>
                <td>{{ l.status }}</td>
                <td>{{ l.manager.name if l.manager else "—" }}</td>
                <td>{{ l.manager_comment or "—" }}</td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</body>
</html>
